<!doctype html>
<html>
<head>
    <title>Intern Token</title>
    <meta charset="utf-8">

    <script src="../node_modules/web3/dist/web3.min.js"></script>
    <script src="https://unpkg.com/@metamask/detect-provider/dist/detect-provider.min.js"></script>
    <script src="../node_modules/web3/dist/web3.min.js"></script>

    <script>
        if (typeof window.ethereum !== 'undefined') console.log('MetaMask is installed!');
        else console.log('MetaMask is not installed!');
    </script>
</head>
<body>
    <h1>Intern Token</h1>
    <hr align="center" width="99%">
    
    <button class="enableEthereumButton">Connect Metamask</button> 
    <br><br><br><br>
    
    <button onclick="getBalance(true)">Show Balance</button> 
    <span id="balance">0</span> <br><br>
    
    <button id="transfer" disabled="true">Transfer</button> 
    <input type="text" placeholder="0x38HG4NO..." id="address">
    <input type="text" placeholder="10" id="value"> <br><br>

    <button id="mint" disabled="true">Mint</button> 
    <input type="text" placeholder="10" id="mintVal"> <br><br>

    <button id="burn" disabled="true">Burn</button> 
    <input type="text" placeholder="10" id="burnVal"> <br><br>

    <script>
        function getBalance(success)
        {   
            let balance = document.getElementById("balance");

            if(success == true)
            {
                balance.style.color = "green";
                balance.textContent = 10;
            }
            else
            {
                balance.style.color = "red";
                balance.textContent = error("account empty");    
            }
        }

        var tr = document.getElementById("transfer");

        var addr = document.getElementById("address");
        var val = document.getElementById("value");

        var mint = document.getElementById("mint");
        var burn = document.getElementById("burn");
        var mintVal = document.getElementById("mintVal");
        var burnVal = document.getElementById("burnVal");

        function enableTR()
        {
            if(addr.value.length != 0 && val.value.length != 0)
                tr.disabled = false;
            else 
                tr.disabled = true;
        }

        function enableMint()
        {
            if(mintVal.value.length != 0)
                mint.disabled = false;
            else 
                mint.disabled = true;
        }

        function enableBurn()
        {
            if(burnVal.value.length != 0)
                burn.disabled = false;
            else 
                burn.disabled = true;
        }


        addr.addEventListener('keyup', enableTR);
        val.addEventListener('keyup', enableTR);
        mintVal.addEventListener('keyup', enableMint);
        burnVal.addEventListener('keyup', enableBurn);

        function error(message)
        {
            return `*${message}`;
        }


    </script>
</body>
</html>